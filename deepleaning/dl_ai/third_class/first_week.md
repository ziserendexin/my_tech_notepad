# 深度学习策略

## 正交化

建立机器学习系统的挑战之一是，有太多的可以尝试和改变的东西。太多的超参数可以调整，通过调整什么，来实现预期效果的过程，叫做正交化。

在设计的时候，确保每个操作，只对有限的参数进行调整。

针对不同的性能指标，使用不同的选项。

本章的主要目标是，诊断模型的瓶颈是什么，以及如何去调整参数等。

### 单一量化评估指标

如果有一个单一的量化评估指标，可以让你知道新方法比上一次更好还是更快，那么进程会有极大的加快。

> 精准率(precision)和召回率(recall)。
>
> > <https://blog.argcv.com/articles/1036.c>
> >
> > <https://www.zhihu.com/question/19645541/answer/91694636>
> >
> > <https://blog.csdn.net/qq_29462849/article/details/81053135>
> >
> > 最后这个理论一些。
>
> **准确率(accuracy)**:对于给定的测试数据集，分类器正确分类的样本数与总样本数之比。$ACC=\frac{TP+TN}{TP+TN+FP+FN}$。
>
> 首先需要定义四种分类情况。TP,FN,FP,TN.
>
> |          ↓预测→实际           | 正例，相关(Relevant)                    | 负例，无关(NonRelevant)                 |
> | :---------------------------: | --------------------------------------- | --------------------------------------- |
> |   正例，被检索到(Retrieved)   | true positives(TP)     (正类预测为正类) | false positives(FP)    (负类预测为正类) |
> | 负例，未检索到(Not Retrieved) | false negatives(FN)   (正类预测为负类)  | true negatives(TN)   (负类预测为负类)   |
>
> TRUE/FALSE：代表结果是否分对了。
>
> Positive/Negative：代表实际上是否正确。
>
> **精准率(precision)**: 
>
> ​	其公式为$P=\frac{TP}{TP+FP}$
>
> ​	提取出的正确信息条数 / 提取出的信息条数	
>
> **召回率(recall)**: 
>
> ​	其公式为$R=\frac{TP}{TP+FN}$,
>
> ​	 提取出的正确信息条数 / 样本中的信息条数
>
> **F-Measure(F-Score)**:
>
> ​	即是precision和recall的加权调和平均。
>
> ​	$F_1 = \frac{2}{\frac{1}{P}+\frac{1}{R}}$。

### 建立满足指标(satisficing matrics)和优化指标(optimizing matrics)

如果需要关注多种指标，比如正确率与运行时间。

<!--那么可以就像最优化算法中所表述的，必须满足的指标，使用指数函数加权，优化指标使用线性加权。-->

比如对于一个唤醒器：希望有如下条件
$$
\begin{align}
max\ \ \ \ &accary\\
s.t.\ \ \ &fasle\ positive\ time\ <\ 1\ time/24h 
\end{align}
$$
<!--不就是最优化算法的内容么？-->

写出其对应的条件，有助于我们优化与加快其计算速度。

### 设置开发集、测试集

dev sets:有时候也被称为交叉验证集。

​	主要用于开发环境中，反复测试，保持创新，以提高在开发集上的表现能力。

然后在测试集中评估他。



首先需要保证的是，开发集和测试集需要保证来自于同样的分布。

一般而言，全部打散，然后随机取就好了。

### 什么时候改变dev/test set

比如有个神奇的例子：一个分猫器，并将猫推送给用户。

有两个算法：

- 算法A: 3% error
- 算法B: 5% error

但在检查的时候发现，算法A会推色图，这个是不能容忍的。

但算法B，虽然差了点，但没有色图。

此时就是，**评价指标不能对模型进行正确的评价的时候。**

此时就应该修改指标，甚至同时也需要修改测试、开发集合。



参考方法：给色图加一个巨大的权重。

#### 这也是一种正交化的思想

1. 确定一个指标，以衡量分类器在目标上的性能。
2. 然后再思考如何实现这个目标。

这里也说了另外一种例子，可能实际应用场景中，缺少了某些信息。所以也不一定表现得很好。

比如高质量图片的开发测试集VS低质量图片的实际场景。

<!--这也就是需要加噪声？-->

